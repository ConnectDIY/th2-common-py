syntax = "proto3";
package th2;

import "th2common/gen/infra.proto";

option java_multiple_files = true;
option java_package = "com.exactpro.th2.act.grpc";

service Act {
    /* This action executes next steps:
        1) Registers checkpoint in Verifier microservice
        2) Sends passed message as is to Connectivity microservice
        3) Waits Execution Report or Business Message Reject with the same ClOrdID as in passed message
            from Connectivity microservice
        4) Returns the message repose and the Checkpoint */
    rpc placeOrderFIX (PlaceMessageRequest) returns (PlaceMessageResponse) {
    }

    /*Send fix message without response awaiting */
    rpc sendMessage (PlaceMessageRequest) returns (SendMessageResponse) {
    }

    rpc placeQuoteRequestFIX (PlaceMessageRequest) returns (PlaceMessageResponse) {
    }

    rpc placeQuoteFIX (PlaceMessageRequest) returns (PlaceMessageResponse) {
    }

    rpc placeOrderMassCancelRequestFIX (PlaceMessageRequest) returns (PlaceMessageResponse) {
    }

    rpc placeQuoteCancelFIX (PlaceMessageRequest) returns (PlaceMessageResponse) {
    }

    rpc placeQuoteResponseFIX (PlaceMessageRequest) returns (PlaceMessageResponse) {
    }
}

message SendMessageResponse {
    RequestStatus status = 1;
    Checkpoint checkpoint_id = 2;
}

message PlaceMessageRequest {
    Message message = 1;
    ConnectionID connection_id = 2;
    EventID parent_event_id = 4;
    string description = 5;
}

message PlaceMessageResponse {
    Message response_message = 1;
    RequestStatus status = 2;
    Checkpoint checkpoint_id = 3;
}
